@using System.Linq.Expressions
@using Demolite.Cv.Common.Enum
@using Demolite.Cv.Common.Helpers
@using Demolite.Cv.Interfaces.Services
@inherits LayoutComponentBase

@code {

    [Inject]
    public ILanguageService LanguageService { get; set; } = null!;

    protected bool IsGerman => LanguageService.Language is DisplayLanguage.German;

    protected override void OnInitialized()
    {
        LanguageService.LanguageChanged += async (_, _) => await InvokeAsync(StateHasChanged);
    }

    protected MarkupString LocalizePropertyMarkup<T>(T obj, Expression<Func<T, string>> property)
        where T : class
        => (MarkupString)LocalizeProperty(obj, property);

    protected string LocalizeProperty<T>(T obj, Expression<Func<T, string>> property)
        where T : class
        => obj.GetLocalizedPropertyValue(property, IsGerman);

}